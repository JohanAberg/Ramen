// Copyright (c) 2011 Esteban Tovagliari
// Licensed under the terms of the CDDL License.
// See CDDL_LICENSE.txt for a copy of the license.

#include<ramen_ui/python/pyside.hpp>

#include<shiboken/sbkmodule.h>
#include<PySide/QtGui/pyside_qtgui_python.h>

PyObject *g_qtcore_module = 0;
PyObject *g_qtgui_module = 0;
PyObject *g_qtgl_module = 0;

PyTypeObject **SbkPySide_QtCoreTypes;
PyTypeObject **SbkPySide_QtGuiTypes;
PyTypeObject **SbkPySide_QtOpenGLTypes;

namespace ramen_ui
{
namespace python
{

void init_pyside()
{
    g_qtcore_module = Shiboken::Module::import( "PySide.QtCore");

    if( !g_qtcore_module)
        PyErr_SetString( PyExc_ImportError, "could not import PySide.QtCore");

    SbkPySide_QtCoreTypes = Shiboken::Module::getTypes( g_qtcore_module);

    g_qtgui_module = Shiboken::Module::import( "PySide.QtGui");

    if( !g_qtgui_module)
        PyErr_SetString( PyExc_ImportError, "could not import PySide.QtGui");

    SbkPySide_QtGuiTypes = Shiboken::Module::getTypes( g_qtgui_module);

    g_qtgl_module = Shiboken::Module::import( "PySide.QtOpenGL");

    if( !g_qtgl_module)
        PyErr_SetString( PyExc_ImportError, "could not import PySide.QtOpenGL");

    SbkPySide_QtOpenGLTypes = Shiboken::Module::getTypes( g_qtgl_module);
}

} // python
} // ramenui
